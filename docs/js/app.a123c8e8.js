(function(t){function e(e){for(var o,i,c=e[0],s=e[1],u=e[2],l=0,f=[];l<c.length;l++)i=c[l],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&f.push(a[i][0]),a[i]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o]);d&&d(e);while(f.length)f.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],o=!0,c=1;c<n.length;c++){var s=n[c];0!==a[s]&&(o=!1)}o&&(r.splice(e--,1),t=i(i.s=n[0]))}return t}var o={},a={app:0},r=[];function i(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=o,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/vue-todolist/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var d=s;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},4634:function(t,e,n){"use strict";var o=n("92f3"),a=n.n(o);a.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o,a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"nav"}},[n("div",{attrs:{id:"nva-bar"}},[n("div",{staticClass:"choiceParent tl-rad",class:{active:"List"===t.currentRouter}},[n("div",{staticClass:"choiceItem"},[n("router-link",{attrs:{to:"/list"},on:{click:t.onListHandler}},[n("font-awesome-icon",{staticStyle:{"font-size":"25px"},attrs:{icon:"list"}})],1)],1)]),n("div",{staticClass:"choiceParent tr-rad",class:{active:"Done"===t.currentRouter}},[n("div",{staticClass:"choiceItem"},[n("router-link",{attrs:{to:"/done"},on:{click:t.onDoneHandler}},[n("font-awesome-icon",{staticStyle:{"font-size":"25px"},attrs:{icon:"calendar-check"}})],1)],1)])]),n("div",{attrs:{id:"nva-body"}},t._l(t.dataIndexList,(function(t,e){return n("Component_ListItem",{key:e,attrs:{props_dataIndex:t}})})),1)]),n("div",{attrs:{id:"task"}},[n("div",{attrs:{id:"task-btn"},on:{click:t.onTaskHandler}},[n("div",{class:{reg_45reg:t.taskPanel.open},attrs:{id:"hamburger"}})]),n("div",{staticClass:"arrow_box",class:{"opacity-fede-in":t.taskPanel.open},attrs:{id:"arrow_box"}},[n("div",{staticClass:"arrow_box_area"},[n("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model.trim",value:t.taskPanel.content,expression:"taskPanel.content",modifiers:{trim:!0}}],staticClass:"arrow_box_input",attrs:{type:"text",placeholder:t.taskPanel.placeholder,disabled:!t.taskPanel.open},domProps:{value:t.taskPanel.content},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onSubmitHandler(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.onCloseTaskPanel(e)}],input:function(e){e.target.composing||t.$set(t.taskPanel,"content",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),n("div",{on:{click:t.onSubmitHandler}},[n("font-awesome-icon",{staticStyle:{"font-size":"25px"},attrs:{icon:"check"}})],1)])])]),n("div",{staticClass:"mask",class:{"opacity-fede-in":t.taskPanel.open},style:{display:!0===t.taskPanel.open?"":"none"}})])},i=[],c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"todo-item"},[null!==t.editorContent?n("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model.trim",value:t.editorContent,expression:"editorContent",modifiers:{trim:!0}}],staticClass:"todo-item-edit",attrs:{type:"text"},domProps:{value:t.editorContent},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onSubmitHandler(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.onCancelHandler(e)}],blur:[t.onCancelHandler,function(e){return t.$forceUpdate()}],input:function(e){e.target.composing||(t.editorContent=e.target.value.trim())}}}):[n("div",{staticClass:"todo-check-box",on:{click:t.onDoneHandler}},[n("div",{class:t.classCheckBox})]),n("div",{staticClass:"todo-text"},[n("span",{class:t.classText,on:{dblclick:t.onEditHandler}},[t._v(t._s(t.data.content))])]),n("div",{staticClass:"todo-del"},[n("font-awesome-icon",{staticStyle:{"font-size":"20px"},attrs:{icon:"trash-alt"},on:{click:t.onDeleteHandler}})],1)]],2)},s=[],u=(n("a9e3"),{name:"cListItem",directives:{focus:{inserted:function(t){t.focus()}}},props:{props_dataIndex:{type:Number,required:!0}},components:{},data:function(){return{editorContent:null}},methods:{onDoneHandler:function(){this.$store.dispatch("Modify",{dataID:this.data.id,modifyData:{content:this.data.content,done:!this.data.done}})},onEditHandler:function(){this.editorContent=this.data.content},onCancelHandler:function(){this.editorContent=null},onSubmitHandler:function(){console.log("onSubmitHandler / Editor content: ",this.editorContent),this.$store.dispatch("Modify",{dataID:this.data.id,modifyData:{content:this.editorContent,done:this.data.done}}),this.editorContent=null},onDeleteHandler:function(){this.$store.dispatch("Delete",this.data.id)}},computed:{data:function(){return this.$store.state.todoDatas[this.props_dataIndex]},classText:function(){return{"done-text":this.data.done}},classCheckBox:function(){return{check:this.data.done}}},beforeCreate:function(){},created:function(){},beforeMounted:function(){},mounted:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},Destroy:function(){}}),d=u,l=(n("5d03"),n("2877")),f=Object(l["a"])(d,c,s,!1,null,"ac467d20",null),p=f.exports;function m(t){return getComputedStyle(t,null)["opacity"]?getComputedStyle(t,null)["opacity"]:-1}var h={name:"vApp",directives:{focus:{inserted:function(t){t.focus()}}},props:{},components:{Component_ListItem:p},data:function(){return{taskPanel:{open:!1,content:null,placeholder:"你想要新增什麼事項呢?"},menuShow:!1}},methods:{classMask:function(){return{"opacity-fede-in":this.taskPanel.open,"opacity-fede-out":!this.taskPanel.open}},onListHandler:function(){},onDoneHandler:function(){},onTaskHandler:function(){this.taskPanel.open||(this.taskPanel.open=!this.taskPanel.open)},onSubmitHandler:function(){this.taskPanel.content&&this.$store.dispatch("Add",{content:this.taskPanel.content,done:!1}),this.onCloseTaskPanel()},onCloseTaskPanel:function(){this.taskPanel.open=!1,this.taskPanel.content=null},onCommandHandler:function(t){switch(t){case 27:!0===this.taskPanel.open&&this.onCloseTaskPanel();break}},onDocumentClickHandler:function(t){1==m(o)&&!1===o.contains(t.target)&&this.onCloseTaskPanel()}},computed:{currentRouter:function(){return this.$store.getters["currentRouteName"]},dataIndexList:function(){return this.$store.getters["dataByRoute"]}},beforeCreate:function(){},created:function(){window.addEventListener("keyup",this.onCommandHandler)},beforeMounted:function(){},mounted:function(){this.$store.dispatch("Load"),document.addEventListener("click",this.onDocumentClickHandler),o=document.getElementById("arrow_box"),console.log("https://vue-todolist-node-server.df.r.appspot.com")},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){window.removeEventListener("keyup",this.onCommandHandler),document.removeEventListener("click",this.onDocumentClickHandler)},Destroy:function(){}},v=h,y=(n("4634"),Object(l["a"])(v,r,i,!1,null,"7896f087",null)),k=y.exports,b=n("bc3a"),D=n.n(b),w=n("a7fe"),x=n.n(w),O=n("8c4f");a["a"].use(O["a"]);var g=[{path:"*",redirect:"/list"},{path:"",redirect:"/list"},{path:"/list",name:"List"},{path:"/done",name:"Done"}],C=new O["a"]({routes:g}),_=C,P=(n("99af"),n("4de4"),n("c740"),n("c975"),n("d81d"),n("a434"),n("b0c0"),n("96cf"),n("1da1")),T=n("2f62");a["a"].use(T["a"]);var E={Load:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,D.a.get("".concat("https://vue-todolist-node-server.df.r.appspot.com","/datas")).then((function(t){return e=t,t}));case 2:return t.abrupt("return",e);case 3:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),Add:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,D.a.post("".concat("https://vue-todolist-node-server.df.r.appspot.com","/datas"),e).then((function(t){n=t}));case 2:return t.abrupt("return",n);case 3:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),Delete:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,D.a.delete("".concat("https://vue-todolist-node-server.df.r.appspot.com","/datas/").concat(e)).then((function(t){console.log("-- Delete Result: ",t)}));case 2:return t.abrupt("return","");case 3:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),Modify:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(e,n){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,D.a.patch("".concat("https://vue-todolist-node-server.df.r.appspot.com","/datas/").concat(e),n).then((function(t){o=t}));case 2:return t.abrupt("return",o);case 3:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}()},H={Load:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={data:[]},t.next=3,D()({url:"".concat("https://vue-todolist-node-server.df.r.appspot.com","/api/todolist/get"),method:"get"}).then((function(t){if(!0===t.data.success)for(var n in t.data.data)e.data.push({content:t.data.data[n].content,done:t.data.data[n].done,id:n})}));case 3:return t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),Add:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(e){var n,o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o="".concat("https://vue-todolist-node-server.df.r.appspot.com","/api/todolist/add"),a={data:e},t.next=4,D()({url:o,method:"post",data:a}).then((function(t){n=t}));case 4:return t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),Delete:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(e){var n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n="".concat("https://vue-todolist-node-server.df.r.appspot.com","/api/todolist/delete"),o=!1,t.next=4,D()({url:n,method:"delete",params:{id:e}}).then((function(t){o=t.data.success})).catch((function(t){console.error(t)}));case 4:return t.abrupt("return",o);case 5:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),Modify:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(e){var n,o,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.dataID,o=e.modifyData,a="".concat("https://vue-todolist-node-server.df.r.appspot.com","/api/todolist/update"),t.next=4,D()({url:a,method:"put",data:o,params:{id:n}}).then((function(t){r=t}));case 4:return t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},L={List:function(t){return t},Done:function(t){return t.filter((function(t){return!0===t.done}))}},I={JsonServer:{Load:function(t){E.Load().then((function(e){t.commit("SET_TODO",e.data)})).catch((function(t){console.error(t)}))},Add:function(t,e){E.Add(e).then((function(e){t.commit("ADD_TODO",e.data)})).catch((function(t){console.error(t)}))},Delete:function(t,e){E.Delete(e).then((function(){t.commit("DELETE_TODO",e)})).catch((function(t){console.error(t)}))},Modify:function(t,e){var n=e.dataID,o=e.modifyData;E.Modify(n,o).then((function(e){t.commit("MODIFY_TODO",e)})).catch((function(t){console.error(t)}))}},Firebase:{Load:function(t){H.Load().then((function(e){t.commit("SET_TODO",e.data)})).catch((function(t){console.error(t)}))},Add:function(t,e){H.Add(e).then((function(e){t.commit("ADD_TODO",e.data.data)})).catch((function(t){console.error(t)}))},Delete:function(t,e){H.Delete(e).then((function(n){!0===n&&t.commit("DELETE_TODO",e)}))},Modify:function(t,e){var n=e.dataID,o=e.modifyData;H.Modify({dataID:n,modifyData:o}).then((function(e){t.commit("MODIFY_TODO",e.data)})).catch((function(t){console.error(t)}))}}},R=new T["a"].Store({strict:!0,state:{todoDatas:[]},getters:{currentRouteName:function(t){return t.route.name},dataByRoute:function(t){return L[t.route.name](t.todoDatas).map((function(e){return t.todoDatas.indexOf(e)}))}},mutations:{SET_TODO:function(t,e){t.todoDatas=e},ADD_TODO:function(t,e){t.todoDatas.push(e)},MODIFY_TODO:function(t,e){var n=t.todoDatas.findIndex((function(t){return t.id===e.data.id}));-1!==n&&a["a"].set(t.todoDatas,n,e.data)},DELETE_TODO:function(t,e){var n=t.todoDatas.findIndex((function(t){return t.id===e}));-1!==n&&t.todoDatas.splice(n,1)}},actions:{Load:function(t){console.log("Database Type: ","Firebase"),I["Firebase"].Load(t)},Add:function(t,e){I["Firebase"].Add(t,e)},Delete:function(t,e){I["Firebase"].Delete(t,e)},Modify:function(t,e){var n=e.dataID,o=e.modifyData;I["Firebase"].Modify(t,{dataID:n,modifyData:o})}},modules:{}}),S=n("31bd"),j=n("ecee"),M=n("c074"),$=n("ad3d");j["c"].add(M["e"],M["c"],M["a"],M["d"],M["b"]),a["a"].component("font-awesome-icon",$["a"]),Object(S["sync"])(R,_),a["a"].use(x.a,D.a),a["a"].config.productionTip=!1,new a["a"]({router:_,store:R,render:function(t){return t(k)}}).$mount("#app"),_.beforeEach((function(t,e,n){n()}))},"5d03":function(t,e,n){"use strict";var o=n("f448"),a=n.n(o);a.a},"92f3":function(t,e,n){},f448:function(t,e,n){}});
//# sourceMappingURL=app.a123c8e8.js.map